<span class="element">

  <div *ngIf="!control.inLine"></div>

  <mat-label [attr.for]="control.key">{{control.label}}</mat-label>

  <span [ngSwitch]="control.controlType">

    <mat-form-field *ngSwitchCase="'textbox'">
      <input matInput [id]="control.key" (keyup)="control.update($event)">
    </mat-form-field>

    <mat-form-field *ngSwitchCase="'dropdown'" [id]="control.key">
      <mat-select (selectionChange)="control.update($event)">
        <mat-option *ngFor="let opt of control.options" [value]="opt.key">{{opt.value}}</mat-option>
      </mat-select>
    </mat-form-field>

    <mat-radio-group *ngSwitchCase="'radio'" [id]="control.key">
      <mat-radio-button *ngFor="let opt of control.options" [value]="opt.key" (change)="control.update($event)">
        {{opt.value}}</mat-radio-button>
    </mat-radio-group>

    <star-rating *ngSwitchCase="'starRating'" [id]="control.key" [starType]="control.starType"
      (ratingChange)="control.update($event)" [labelText]="control.value">
    </star-rating>

    <date-range *ngSwitchCase="'dateRange'" [control]="control"></date-range>

    <mat-checkbox *ngSwitchCase="'checkbox'" (change)="control.update($event)"></mat-checkbox>

    <mat-form-field *ngSwitchCase="'datepicker'">
      <input matInput [matDatepicker]="picker" [value]="control.endDate" (dateChange)="control.update($event)">
      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
      <mat-datepicker #picker></mat-datepicker>
    </mat-form-field>

    <mat-slider *ngSwitchCase="'slider'" [value]="control.value" [max]="control.max" [min]="control.min" [step]="control.step" [tickInterval]="control.tickInterval"
      [thumbLabel]="control.thumbLabel" (change)="control.update($event)">
    </mat-slider>

    <mat-slide-toggle *ngSwitchCase="'toggle'" [checked]="control.value" (change)="control.update($event)"></mat-slide-toggle>

  </span>

  <span class="errorMessage" *ngIf="control.required && !control.isValid()">{{control.errorMessage}}</span>
</span>